<section class="py-5">
  <h2 class="h5 text-uppercase mb-4">Shopping cart</h2>
  <div class="row">
    <div class="col-lg-8 mb-4 mb-lg-0">
      <!-- CART TABLE-->
      <div class="table-responsive mb-4">
        <table class="table">
          <thead class="bg-light">
            <tr>
              <th class="border-0" scope="col">
                <strong class="text-small text-uppercase">Product</strong>
              </th>
              <th class="border-0" scope="col">
                <strong class="text-small text-uppercase">Price</strong>
              </th>
              <th class="border-0" scope="col">
                <strong class="text-small text-uppercase">Quantity</strong>
              </th>
              <th class="border-0" scope="col">
                <strong class="text-small text-uppercase">Total</strong>
              </th>
              <th class="border-0" scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let pr of products">
              <th class="pl-0 border-0" scope="row">
                <div class="media align-items-center">
                  <img [src]="pr.product.image.url" width="70" />
                  <div class="media-body ml-3">
                    <strong class="h6">{{ pr.product.name }}</strong>
                  </div>
                </div>
              </th>
              <td class="align-middle border-0">
                <p class="mb-0 small">{{ pr.product.price }}</p>
              </td>
              <td class="align-middle border-0">
                <p class="mb-0 small">{{ pr.quantity }}</p>
              </td>
              <td class="align-middle border-0">
                <p class="mb-0 small">
                  {{ pr.product.price * pr.quantity | currency }}
                </p>
              </td>
              <td class="align-middle border-0">
                <a class="reset-anchor" (click)="deleteItem(pr)"
                  ><i class="fas fa-trash-alt small text-muted"></i
                ></a>
              </td>
            </tr>
            <tr *ngIf="products.length === 0">
              <td colspan="4">
                <div class="alert alert-secondary text-center" role="alert">
                  There aren't products in cart
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="bg-light px-4 py-3">
        <div class="row align-items-center text-center">
          <div class="col-md-6 mb-3 mb-md-0 text-md-left">
            <button
              class="btn btn-link p-0 text-dark btn-sm"
              routerLink="/home"
            >
              <i class="fas fa-long-arrow-alt-left mr-2"> </i>Continue shopping
            </button>
          </div>
          <div class="col-md-6 text-md-right">
            <button
              [disabled]="products.length === 0"
              class="btn btn-outline-dark btn-sm"
              (click)="saveCheckout()"
            >
              Procceed to checkout<i
                class="fas fa-long-arrow-alt-right ml-2"
              ></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card border-0 rounded-0 p-lg-4 bg-light">
        <div class="card-body">
          <h5 class="text-uppercase mb-4">Cart total</h5>
          <ul class="list-unstyled mb-0">
            <li class="d-flex align-items-center justify-content-between">
              <strong class="text-uppercase small font-weight-bold"
                >Subtotal</strong
              ><span class="text-muted small">{{ total | currency }}</span>
            </li>
            <li class="border-bottom my-2"></li>
            <li class="d-flex align-items-center justify-content-between mb-4">
              <strong class="text-uppercase small font-weight-bold"
                >Total</strong
              ><span>{{ total | currency }}</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>
